---
up:
  - "[[SpringBoot 課程描述]]"
  - "[[日志]]"
---
日志信息显示，记录已经控制住了，下面就要说一下日志的转存了。日志不能仅显示在控制台上，要把日志记录到文件中，方便后期维护查阅。

​对于日志文件的使用存在各种各样的策略，例如每日记录，分类记录，报警后记录等。这里主要研究日志文件如何记录。

​记录日志到文件中格式非常简单，设置日志文件名即可。

```YAML
logging:
	file:
	    name: logs/server.log
```

​虽然使用上述格式可以将日志记录下来了，但是面对线上的复杂情况，一个文件记录肯定是不能够满足运维要求的，通常会每天记录日志文件，同时为了便于维护，还要限制每个日志文件的大小。下面给出日志文件的常用配置方式：

```YAML
logging:
	logback:
    	rollingpolicy:
        	max-file-size: 3KB
            file-name-pattern: logs/server.%d{yyyy-MM-dd}.%i.log
```

​以上格式是基于 logback 日志技术设置每日日志文件的设置格式，要求容量到达3KB以后就转存信息到第二个文件中。文件命名规则中的 %d 标识日期，%i是一个递增变量，用于区分日志文件。